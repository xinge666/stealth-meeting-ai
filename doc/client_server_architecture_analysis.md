# C/S æ¶æ„è§£è€¦å¯è¡Œæ€§è¯„ä¼°

å…³äºæ‚¨æå‡ºçš„**"å®¢æˆ·ç«¯åªè´Ÿè´£è·å–éŸ³é¢‘ã€æˆªå±å’Œ OCRï¼ˆå¹¶åˆ©ç”¨æœ¬åœ° CPU è®¡ç®—ï¼‰ï¼Œè€ŒæœåŠ¡ç«¯è´Ÿè´£ ASRã€LLM è°ƒç”¨å’Œæœ€ç»ˆç»“æœå±•ç°"**çš„æƒ³æ³•ï¼Œæˆ‘éå¸¸è®¤å¯ã€‚

è¿™ä¸ä»…æ˜¯å¯è¡Œçš„ï¼Œè€Œä¸”æ˜¯ä»ç›®å‰çš„"å•ä½“åŸå‹æœº"å‘"å•†ä¸šåŒ–äº§å“"æ¼”è¿›çš„**å¿…ç»ä¹‹è·¯**ã€‚

ä¸‹é¢ä¸ºæ‚¨æ·±åº¦å‰–æè¿™ç§æ¶æ„çš„ä¼˜åŠ£åŠ¿ä»¥åŠå…·ä½“çš„è½åœ°æ€è·¯ï¼š

## âœ… ä¸ºä»€ä¹ˆè¿™æ˜¯ä¸€ä¸ªæå¥½çš„æƒ³æ³•ï¼Ÿ(ä¼˜åŠ¿åˆ†æ)

### 1. **ç®—åŠ›ä¸é…ç½®è§£è€¦ (Hardware Decoupling)**
ç›®å‰çš„æ¶æ„è¦æ±‚è¿è¡Œå®ƒçš„æœºå™¨å¿…é¡»é…ç½®å„ç§æœåŠ¡ç›¸å…³çš„ç¯å¢ƒï¼ˆç”šè‡³å¯èƒ½éœ€è¦ GPU è·‘æœ¬åœ° ASR æµ‹è¯•ï¼‰ï¼Œè¿™å¯¼è‡´è¿™å¥—ç³»ç»Ÿçš„åˆ†å‘æå…¶å›°éš¾ã€‚å¦‚æœæ‹†åˆ†ï¼š
- **å®¢æˆ·ç«¯**å˜å¾—æè½»é‡ã€‚ç”šè‡³å¯ä»¥æ‰“åŒ…æˆä¸€ä¸ªå…å®‰è£…çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¦‚ macOS çš„ `.app` ç”šè‡³ç®€å•çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰ï¼Œåªéœ€è¦æœ‰éº¦å…‹é£å’Œå±å¹•è¯»å–æƒé™ã€‚
- **æœåŠ¡ç«¯**å¯ä»¥éƒ¨ç½²åœ¨æ€§èƒ½å¼ºåŠ²çš„äº‘æœåŠ¡å™¨ä¸Šï¼Œå¤„ç†é‡è®¡ç®—ï¼ˆå¦‚ ASR å’Œåç»­å¯èƒ½çš„ VLMï¼‰ï¼Œå†ä¹Ÿä¸å—ç»ˆç«¯ç”¨æˆ·çš„é…ç½®æŸç¼šã€‚

### 2. **æå…¶ç¬¦åˆ"éšè”½æ€§ (Stealth)"çš„åˆè¡·**
æ—¢ç„¶é¡¹ç›®å« `stealth-meeting-ai`ï¼Œé‚£ä¹ˆæ ¸å¿ƒå°±æ˜¯è¦å¯¹ç”¨æˆ·æ“ä½œå½±å“æœ€å°ï¼š
- å®¢æˆ·ç«¯åªéœ€åšé‡‡é›†å’ŒåŸºç¡€å¤„ç†ï¼ˆCPU OCRï¼‰ï¼Œä¸å ç”¨æ˜‚è´µçš„ GPUï¼Œ**é£æ‰‡ä¸ä¼šç‹‚è½¬ï¼Œä¸å‘çƒ­**ï¼Œä¸å½±å“ä¼šè®®ã€‚
- æœ€ç»ˆçš„â€œæœåŠ¡å±•ç°â€ç”šè‡³å¯ä»¥é€šè¿‡ç›®å‰çš„ WebSocket æ–¹æ¡ˆç›´æ¥æ¨é€åˆ°**æ‰‹æœºç«¯**ï¼Œè¿ PC ä¸Šçš„å±å¹•å±•ç¤ºéƒ½ä¸éœ€è¦äº†ã€‚è¿™å®Œå…¨ç¬¦åˆæ‚¨ç°çŠ¶è®¾è®¡çš„åˆè¡·ã€‚

### 3. **ç«¯ä¾§è½»é‡çº§å¤„ç†çš„æ˜æ™ºé€‰æ‹© (Edge Computing)**
- æ‚¨æåˆ°**"OCR æ”¾åœ¨å®¢æˆ·ç«¯ç”¨ CPU è®¡ç®—"**ï¼Œè¿™æ˜¯éå¸¸å·§å¦™çš„ç‚¹ã€‚è™½ç„¶ VLMï¼ˆå¤§è§†è§‰æ¨¡å‹ï¼‰å¾ˆæµè¡Œï¼Œä½†å®ƒçš„è°ƒç”¨å»¶è¿Ÿå·¨é«˜ä¸”è´µã€‚å±å¹•å˜åŒ–å¾€å¾€åªæ˜¯ä¸€äº› PPT ç¿»é¡µï¼Œç”¨è½»é‡çº§çš„ RapidOCR æ¨¡å‹åœ¨å®¢æˆ·ç«¯æå–å‡ºçº¯æ–‡æœ¬ï¼Œèƒ½æå¤§åœ°**èŠ‚çœç½‘ç»œå¸¦å®½ä¸Šä¼ æˆæœ¬å’ŒæœåŠ¡å™¨å¼€é”€**ã€‚

### 4. **API Key çš„å®‰å…¨æ€§**
å¯¹äº LLM å’Œ å•†ä¸šåŒ– ASR API æ¥è¯´ï¼Œå¦‚æœæ”¾åœ¨æœ¬åœ°ï¼ŒKey æ˜¯æš´éœ²çš„ã€‚ç§»åˆ°æœåŠ¡ç«¯åï¼Œå®‰å…¨æ€§å¾—åˆ°å½»åº•ä¿éšœã€‚

---

## âš ï¸ éœ€è¦æ³¨æ„çš„æŒ‘æˆ˜ä¸å¯¹ç­– (åŠ£åŠ¿åˆ†æ)

å°½ç®¡æ–¹å‘å®Œå…¨æ­£ç¡®ï¼Œä½†å®æ–½è¿‡ç¨‹ä¸­éœ€è¦å…‹æœä»¥ä¸‹å·¥ç¨‹éš¾ç‚¹ï¼š

### 1. éŸ³é¢‘æµçš„ç½‘ç»œå»¶è¿Ÿ (Latency Delay)
**æŒ‘æˆ˜**ï¼šè¿‡å»éŸ³é¢‘ç›´æ¥è¿›å…¥æœ¬åœ° ASRï¼Œå‡ ä¹ 0 å»¶è¿Ÿã€‚ç°åœ¨éœ€è¦æ¨æµåˆ°æœåŠ¡å™¨ã€‚
**å¯¹ç­–**ï¼šä¸èƒ½ç­‰å®¢æˆ·ç«¯æŠŠä¸€æ•´æ®µè¯å½•å®Œå†å‘è¯·æ±‚ï¼Œå¿…é¡»ä½¿ç”¨ **WebSocket æˆ– gRPC è¿›è¡Œå…¨åŒå·¥ï¼ˆFull Duplexï¼‰æµå¼éŸ³é¢‘æ¨é€**ã€‚å®¢æˆ·ç«¯çš„ VADï¼ˆé™éŸ³æ£€æµ‹ï¼‰ä¾ç„¶è¦åœ¨å®¢æˆ·ç«¯åšï¼Œåªè¦æœ‰äººè¯´è¯ï¼Œå°±æºæºä¸æ–­æ¨æµç»™æœåŠ¡ç«¯ã€‚æœåŠ¡ç«¯æ¥æ”¶åˆ°ç»“æŸå¸§ï¼ˆSilenceï¼‰ç«‹åˆ»è¿”å›æµå¼æ¨ç†æƒ³åº”ï¼ˆStreaming ASR -> Streaming LLMï¼‰ã€‚

### 2. OCR å†…å®¹çš„ä¸Šä¸‹æ–‡åŒæ­¥
**æŒ‘æˆ˜**ï¼šå®¢æˆ·ç«¯å¦‚æœåªæ˜¯æœºæ¢°åœ°å°† OCR ç»“æœå‘é€ä¸Šå»ï¼ŒæœåŠ¡å™¨ä¸çŸ¥é“è¿™äº›æ–‡å­—ç©¶ç«Ÿå±äºå¯¹è¯å“ªä¸€åˆ»çš„èƒŒæ™¯ã€‚
**å¯¹ç­–**ï¼šæ‰€æœ‰çš„æ¶ˆæ¯æ¨é€ï¼ˆæ— è®ºæ˜¯ Audio è¿˜æ˜¯ OCR Textï¼‰å¿…é¡»å¸¦ä¸Šç»Ÿä¸€çš„**æ—¶é—´æˆ³ (Timestamp)**ã€‚æœåŠ¡å™¨å†…éƒ¨çš„ [ContextManager](file:///Users/guxinjia/work/iv_test/stealth-meeting-ai/src/context/manager.py#8-114) éœ€è¦å°†ç‰¹å®šæ—¶æ®µçš„ OCR ç»“æœä¸éŸ³é¢‘è¿›è¡Œå¯¹é½ã€‚

### 3. éƒ¨ç½²ä¸ç¯å¢ƒå¤æ‚åº¦çš„å¢åŠ 
**æŒ‘æˆ˜**ï¼šä»ä¸€ä¸ªè„šæœ¬å¯åŠ¨å˜æˆäº†è¦å¯åŠ¨ä¸¤ä¸ªé¡¹ç›®ã€‚
**å¯¹ç­–**ï¼šéœ€è¦åœ¨ä»“åº“ä¸­æ˜ç¡®åˆ’å®šç•Œçº¿ï¼Œä¾‹å¦‚é‡æ„ç›®å½•ä¸º `/client` å’Œ `/server`ï¼Œå„è‡ªæ‹¥æœ‰ç‹¬ç«‹çš„ [requirements.txt](file:///Users/guxinjia/work/iv_test/stealth-meeting-ai/requirements.txt) æˆ– `pyproject.toml`ã€‚

---

## ğŸ’¡ æ¶æ„é‡æ„è“å›¾åŠæ¼”è¿›è·¯å¾„

å¦‚æœå†³å®šæŒ‰ç…§è¿™ä¸ªæ€è·¯é‡æ„ï¼Œå»ºè®®æŒ‰ä»¥ä¸‹ä¸‰æ­¥èµ°ï¼Œä¿æŒç³»ç»Ÿç¨³å®šï¼š

**é˜¶æ®µä¸€ï¼šå‰¥ç¦»å±•ç°å±‚ä¸æ ¸å¿ƒé€»è¾‘å±‚è¾¹ç•Œ**
- ç°æœ‰çš„ [presentation/server.py](file:///Users/guxinjia/work/iv_test/stealth-meeting-ai/src/presentation/server.py) å…¶å®å·²ç»å®ç°äº†ä¸€åŠï¼ˆWebSocket å¹¿æ’­ï¼‰ï¼Œè¦å°†å®ƒè¿›ä¸€æ­¥å¼ºåŒ–ï¼Œä½¿å…¶ä¸ä»…ä»…æ˜¯å¾€å¤–æŠ›ç­”æ¡ˆï¼Œä¹Ÿèƒ½æ¥æ”¶å®¢æˆ·ç«¯æŒ‡ä»¤ã€‚

**é˜¶æ®µäºŒï¼šå°† Audio/Vision æ¨¡å—æ”¹é€ æˆçº¯ Client ä»£ç†**
- [AudioCapture](file:///Users/guxinjia/work/iv_test/stealth-meeting-ai/src/audio/capture.py#16-129)ï¼šä¿ç•™ VADï¼Œä½†å°† ASR å½»åº•å‰¥ç¦»ã€‚æ£€æµ‹åˆ°è¯­éŸ³åˆ†ç‰‡ï¼ˆæˆ–è€…æ›´ç»†ç²’åº¦çš„æµï¼‰ï¼Œç›´æ¥è¿‡ Socket/HTTP å‘ç»™æœåŠ¡å™¨ã€‚
- [ScreenCapture](file:///Users/guxinjia/work/iv_test/stealth-meeting-ai/src/vision/screen_capture.py#15-118)ï¼šä¿ç•™å˜åŒ–æ£€æµ‹å’Œ OCRï¼Œå°†è§£æå‡ºçš„ Text å‘ç»™æœåŠ¡å™¨ã€‚

**é˜¶æ®µä¸‰ï¼šServer ç«¯ç‹¬ç«‹å¹¶é‡æ„ Event Bus**
- ç°åœ¨çš„ [EventBus](file:///Users/guxinjia/work/iv_test/stealth-meeting-ai/src/event_bus.py#87-160) æ˜¯è¿›ç¨‹å†…çš„ã€‚æ‹†åˆ†åï¼ŒçœŸæ­£çš„ "EventBus" æ¦‚å¿µå¯èƒ½è¦è·¨ç½‘ç»œï¼ˆå¦‚ä½¿ç”¨ WebSocket æˆ– Redis/RabbitMQ ç­‰ä¸­é—´ä»¶å®ç°ï¼ŒMVP é˜¶æ®µå¯ä»¥ç”¨ WebSocketï¼‰ã€‚
- æœåŠ¡ç«¯çš„å…¥å£å°†å˜æˆä¸€ä¸ªç»Ÿä¸€çš„æ¥æ”¶å™¨ï¼ˆGatewayï¼‰ï¼Œå¯¹æ¥åŸæ¥çš„ [IntentRouter](file:///Users/guxinjia/work/iv_test/stealth-meeting-ai/src/intelligence/intent_router.py#46-116) å’Œ [ContextManager](file:///Users/guxinjia/work/iv_test/stealth-meeting-ai/src/context/manager.py#8-114)ã€‚

---

å¦‚æœæ‚¨ç¡®è®¤ä»¥æ­¤ä¸ºè¿›åŒ–æ–¹å‘ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç”¨ç€æ€¥å†™ä»£ç ï¼Œå…ˆå¯¹å½“å‰çš„ä»“åº“è¿›è¡Œæ¸…ç†ï¼Œç„¶åå†åŸºäº C/S æ¶æ„ï¼Œç”»å‡ºæ˜ç¡®çš„æ¨¡å—ç»“æ„å†å¼€å·¥ï¼
